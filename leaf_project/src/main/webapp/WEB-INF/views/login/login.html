<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" >
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	
	<!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js"></script>
	
	<!-- Jquery -->	
	<script th:src="@{/resources/static/js/jquery-3.7.1.min.js}" ></script>
  
    <!-- 나의 스타일 추가 -->
    <link rel="stylesheet" th:href="@{/resources/static/css/login.css}">
  	<script th:src="@{/resources/static/js/common.js}" ></script>
  </head>
  
  <body id="bg_cover" class="text-center" th:style="'background-image:url(/resources/static/img/clover_bg.jpg)'">
    
    <!--  html 전체 영역을 지정하는 container -->
    <div id="container">
      <!--  login 폼 영역을 : loginBox -->
      <div id="loginBox">
      
        <!-- 로그인 페이지 타이틀 -->
        <div id="loginBoxTitle">CLOVER Login</div>
        <!-- 아이디, 비번, 버튼 박스 -->
        <div id="inputBox">
          <form action="isLogin.do" method="post" onsubmit="return submitChk(this);" autocomplete="off">
	          <div class="input-form-box"><span>아이디 </span><input type="text" name="memId" class="form-control" required></div>
	          <div class="input-form-box"><span>비밀번호 </span><input type="password" name="memPw" class="form-control" required></div>
	          <div class="button-login-box" >
	            <button type="submit" class="btn btn-primary btn-xs" style="width:100%">로그인</button>
	          </div>
	          <div class="input-form-box">
	          	<span class="w-100 text-center"><a class="text-secondary" href="memberForm.do" >계정이 없으신가요?</a></span>
	          </div>      
          </form>
        </div>
        
      </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script>
	
	 	function checkField(form){
	       	let chkId = HttpJson("/login/idCheck.do",{"memId":form.memId.value});
	  		let result = true;
	  		console.log(chkId);
	  	
	  		// 중복 아이디체크
	  		if(!chkId){
	  			result = false;
	  		}
	       	
	     	return result;
	     }
	 	
	 	
	 	function submitChk(form){
	 		
	 		//계정 검증
	 		if(checkField(form)===true){
	        	swal('Error!','계정이 <b style="color:red;">존재하지 않습니다.</b>','error');
	 			return false;	
	 		}
	 		
	 		return true;
	 	}
	 	
	</script>
  </body>
</html>
